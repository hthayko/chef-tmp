<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Chef ++</title>

  <link rel="stylesheet" type="text/css" href="stylesheets/demo.css">

  <style>

  </style>

</head>
<body>

  <div id="main">
    <nav v-bind:class="active" v-on:click.prevent>

      <img src="images/logos/SansSerifLogo-v2.png" id="delishlogo">
      <div v-if="loggedIn === 'true'" > 
        <a href="#" class="home" v-on:click="makeActive('home')">Home</a>
        <a href="#" class="search" v-on:click="makeActive('search')">Search</a>
        <a href="#" class="rawInput" v-on:click="makeActive('rawInput')">Recipe Input</a>
        <a href="#" class="savedRecipes" v-on:click="makeActive('savedRecipes')">Saved Recipes</a>
        <a href="#" class="logout" v-on:click="logOut()">Log Out</a>
      </div>
      <div v-else >
        <a href="#" class="login" v-on:click="makeActive('login')">Sign In</a>
        <a href="#" class="createAccount" v-on:click="makeActive('createAccount')">Sign Up</a>
      </div>
    </nav>

    <div id="homeWrapper" v-if="active === 'home'">
      <h1>Popular</h1>      
      <div class="recipeResultsWrapper">
        <div v-for="recipe in favRecipes" class='recipeBox'>
          <a v-bind:href="'recipe/' + recipe.id"><img v-bind:src="recipe.dish_image_url" /></a>
          <p >{{recipe.caption}}</p>
        </div>
      </div>

    </div>

    <div v-else-if="active === 'search'">
      <div id=search_wrapper>
        <button class="chefpp-button" v-on:click="searchForRecipes()">Search</button>
        <div class="bar">
          <input type="text" v-model="searchString" placeholder="Search" v-on:keyup.enter="searchForRecipes()"/>
        </div>  
      </div>
      <div id="categories_wrapper">
        <h1>Categories</h1>
        <div id=categoryBoxes_wrapper>
          <div v-for="(category, index) in categories">
            <div class='categoryBox' v-if="index%2" style="background-color: #7d9098" v-on:click="searchForRecipes(category)"></div>
            <div class='categoryBox' v-on:click="searchForRecipes(category)" v-else></div>
            <p v-on:click="searchForRecipes(category)">{{category}}</p>
          </div>
        </div>
      </div>
      <h1 class="search-results-label" v-if="searchedRecipes && searchedRecipes.length > 0">Results</h1>
      <h1 class="search-results-label" v-if="searchedRecipes && searchedRecipes.length === 0 ">No Results</h1>
      <div class="recipeResultsWrapper">
        <div v-for="recipe in searchedRecipes" class='recipeBox'>
            <a v-bind:href="'recipe/' + recipe.id"><img v-bind:src="recipe.dish_image_url" /></a>
            <p >{{recipe.caption}}</p>
        </div>
      </div>
    </div>

   
   <div id="recipe_input_view" v-else-if="active === 'rawInput'">
    <input type="text" class="chefpp_input" id="recipe_name" v-model="recipe_name" placeholder="Recipe Name">
    <div class="recipe_input_wrapper">

      <div class="ingredients_list_wrapper" >
        <h1>Ingredients</h1>
        <div class="ingredients_list_item" v-for="ingredient in ingredients">
          <button class=exit_button v-on:click="removeIngredient(ingredient)">X</button>
          <p>{{ingredient}}</p>
        </div>
        <input type="text" class=chefpp_input v-model="ingredient_input" v-on:keyup.enter="addIngredient()" >
      </div>

      <div class="instructions_list_wrapper">
        <h1>Instructions</h1>
        <div class="instructions_list_item" v-for="instruction in instructions">
          <button class=exit_button v-on:click="removeInstruction(instruction)">X</button>
          <p>{{instruction}}</p>
        </div>
        <input type="text" class=chefpp_input v-model="instruction_input" v-on:keyup.enter="addInstruction()" >
      </div>

    </div>
    <div>
    </div>
    <input type="button" onclick="location.href='http://web.stanford.edu/~kramerh/delish/index.html';" value="Submit" class="chefpp-button"/>
  </div>


   <div v-else-if="active === 'createAccount'">
      <div class="info">
       <input type="text" v-model="username" placeholder="Username" />
       <input type="password" v-model="password" placeholder="Password" />
       <input type="password" v-model="password_confirm" placeholder="Confirm your password" />
     </div>
     <form>
       <button class="chefpp-button" v-on:click="createAccount(username, password, password_confirm, $event)">Submit</button>
     </form>
    </div>



  <div class="info" v-else-if="active==='login'">
     <input type="text" v-model="username" placeholder="Username" />
     <input type="password" v-model="password" placeholder="Password" />
   <form>
     <button class="chefpp-button" v-if="loggedIn === 'false'" v-on:click="logIn(username, $event)">Log in</button>
     <button class="chefpp-button" v-if="loggedIn === 'false'" v-on:click="makeActive('createAccount')">Create Account</button>
   </form>
 </div>

 <div v-else-if="active==='opening_page'">
    <h1> The new way to learn how to make great meals </h1>
    <h3> When you're first learning how to cook, long blocks of text can be intimidating and hard to follow. We feelthat learning to cook should be as painless as possible, so we reshaped how you work through a recipe. Now you won't be able to wait to cook your next meal! </h3>
 </div>
</div>



<script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.1.0/vue.min.js"></script>
<script >  window.favRecipes = <%- recipes %> </script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script type="text/javascript" src='javascripts/demo.js'></script>

</body>
</html>
